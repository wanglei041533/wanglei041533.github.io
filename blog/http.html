<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP | wl的博客</title>
    <meta name="description" content="欢迎访问我的前端日志">
    <link rel="icon" href="/img/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.a83f9480.css" as="style"><link rel="preload" href="/assets/js/app.4a456fe1.js" as="script"><link rel="preload" href="/assets/js/2.e34d794f.js" as="script"><link rel="preload" href="/assets/js/7.1b043b7d.js" as="script"><link rel="prefetch" href="/assets/js/10.99b56931.js"><link rel="prefetch" href="/assets/js/11.786ee36c.js"><link rel="prefetch" href="/assets/js/12.6a4248b0.js"><link rel="prefetch" href="/assets/js/13.443b1587.js"><link rel="prefetch" href="/assets/js/14.b9eb9e79.js"><link rel="prefetch" href="/assets/js/15.81241ea0.js"><link rel="prefetch" href="/assets/js/3.c69c1c61.js"><link rel="prefetch" href="/assets/js/4.db58a291.js"><link rel="prefetch" href="/assets/js/5.9b62e945.js"><link rel="prefetch" href="/assets/js/6.ab0a4842.js"><link rel="prefetch" href="/assets/js/8.ce92405a.js"><link rel="prefetch" href="/assets/js/9.a0891bef.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a83f9480.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">wl的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">学习心得</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试总结</a></div> <a href="https://github.com/wanglei041533/wlblog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">学习心得</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试总结</a></div> <a href="https://github.com/wanglei041533/wlblog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/linux.html" class="sidebar-link">Linux开发环境</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/ts-introduce-env.html" class="sidebar-link">Typescript简介和环境配置</a></li><li><a href="/blog/ts-data-types.html" class="sidebar-link">数据类型</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>php</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/php.html" class="sidebar-link">php学习笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node.js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/node.html" class="sidebar-link">什么是Node.js</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>HTTP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/http.html" class="active sidebar-link">HTTP</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h1> <h3 id="http请求模型"><a href="#http请求模型" class="header-anchor">#</a> http请求模型</h3> <p>两端（client，sever），两动作（请求，响应），无状态</p> <h3 id="浏览器行为与http协议处理流程"><a href="#浏览器行为与http协议处理流程" class="header-anchor">#</a> 浏览器行为与HTTP协议处理流程</h3> <ul><li><p>输入网址并回车</p></li> <li><p>解析域名</p></li> <li><p>浏览器发送http请求</p></li> <li><p>服务器处理请求</p></li> <li><p>服务器返回HTML响应</p></li> <li><p>浏览器处理HTML页面</p></li> <li><p>继续请求其他资源</p></li></ul> <p>DNS相当于一个数据库，其中有两列，一列是域名，一列是ip。</p> <p>路由器：转发数据包。 traceroute www.baidu.com</p> <h3 id="什么是http协议"><a href="#什么是http协议" class="header-anchor">#</a> 什么是HTTP协议</h3> <ul><li>HTTP是超文本传输协议，从www浏览器传输到本地浏览器的一种传输协议，网站是基于HTTP协议的，例如网站的图片、css、js等都是基于HTTP协议进行传输的。</li> <li>HTTP协议是由从客户机到服务器的请求（Request）和从服务器到客户机的响应（Response）进行约束和规范。</li></ul> <h3 id="了解tpcp-ip协议栈"><a href="#了解tpcp-ip协议栈" class="header-anchor">#</a> 了解TPCP/IP协议栈</h3> <ul><li>应用层
<ul><li>为用户提供所需要的各种服务，例如：HTTP、FTP、DNS、SMTP等。</li></ul></li> <li>传输层
<ul><li>为应用层实体提供端到端的通信功能，保证数据包的顺序传送及数据的完整性。</li> <li>该层定义了两个主要的协议：传输控制协议（TCP）和用户数据包协议（UDP）。</li></ul></li> <li>网络层
<ul><li>主要解决主机到主机的通信功能。IP协议是网际互联层最重要的协议。</li></ul></li> <li>网络接口层
<ul><li>负责监视数据在知己和网络之间的交换。</li></ul></li></ul> <p><strong>HTTP默认端口80，HTTPS默认端口443</strong></p> <h3 id="http的工作过程"><a href="#http的工作过程" class="header-anchor">#</a> HTTP的工作过程</h3> <h4 id="一次http操作称为一个事务，其工作过程可分为四步："><a href="#一次http操作称为一个事务，其工作过程可分为四步：" class="header-anchor">#</a> 一次HTTP操作称为一个事务，其工作过程可分为四步：</h4> <ul><li><p>首先客户机与服务器需要建立连接，只要单击某个超级链接，HTTP工作开始。</p></li> <li><p>建立连接后，客户机发送一个请求给服务器，请求方式的格式为：统一资源标识符（URL）、协议版本号，后边是MIME信息包括请求修饰符、客户机信息和可能的内容。</p></li> <li><p>服务器接到请求后，给予相应的响应信息，其格式为一个状态行，包括信息的协议版本号、一个成功或错误的代码、后边是MIME信息包括服务器信息、实体信息和可能的内容。</p></li> <li><p>客户端接受服务器所返回的信息通过浏览器显示在用户的显示屏上，然后客户机与服务器断开链接。</p> <p>如果在以上过程中的某一步出现错误，那么产生错误的信息将返回到客户端，由显示屏输出。对于用户来说，这些过程是由HTTP自己完成的，用户只要用鼠标点击，等待信息显示就可以了。</p></li></ul> <h3 id="请求与响应"><a href="#请求与响应" class="header-anchor">#</a> 请求与响应</h3> <h4 id="http请求组成：请求行、消息报头、请求正文。"><a href="#http请求组成：请求行、消息报头、请求正文。" class="header-anchor">#</a> HTTP请求组成：请求行、消息报头、请求正文。</h4> <h4 id="http响应组成：状态行、消息报头、响应正文。"><a href="#http响应组成：状态行、消息报头、响应正文。" class="header-anchor">#</a> HTTP响应组成：状态行、消息报头、响应正文。</h4> <h3 id="http状态吗"><a href="#http状态吗" class="header-anchor">#</a> HTTP状态吗</h3> <h4 id="状态代码有三位数字组成，第一个数字定义了响应类别，且有五种"><a href="#状态代码有三位数字组成，第一个数字定义了响应类别，且有五种" class="header-anchor">#</a> 状态代码有三位数字组成，第一个数字定义了响应类别，且有五种</h4> <ul><li>1XX 指示信息—表示请求已经接受，继续处理</li> <li>2XX 成功—表示请求已被成功接受，理解，接受</li> <li>3XX 重定向—要完成请求必须进行更近一步操作</li> <li>4XX 客户端错误—请求语法错误或请求无法实现</li> <li>5XX 服务端错误—服务器未能实现合法的请求</li></ul> <h3 id="cookies和session"><a href="#cookies和session" class="header-anchor">#</a> cookies和session</h3> <ul><li>cookies是保存在客户端的小段文本，随客户端点每一个请求发送该url下的所有cookies到服务器端。</li> <li>session保存在服务器端，通过唯一的sessionID来区别每一个用户。sessionID随每个连接请求发送到服务器端，服务器根据sessionID来识别客户端，在通过session的key获取session值。</li></ul> <h4 id="cookie使用"><a href="#cookie使用" class="header-anchor">#</a> cookie使用</h4> <ul><li>与cookie相关的http扩展头</li> <li>cookie：客户端将服务器设置的cookie返回到服务器</li> <li>set-cookie：服务器向客户端设置cookie</li> <li>服务器在响应消息中用set-cookie头将cookie的内容送给客户端，客户端在新的请求中将相同的内容携带在cookie头重发送给服务器，从而实现会话的保持。</li></ul> <h4 id="session的使用"><a href="#session的使用" class="header-anchor">#</a> session的使用</h4> <ul><li>使用cookie来实现</li> <li>使用url回显来实现</li></ul> <h3 id="http缓存机制"><a href="#http缓存机制" class="header-anchor">#</a> HTTP缓存机制</h3> <ul><li>缓存会根据请求保存输出内容的副本，例如html页面，图片，下一个请求来到的时候：如果是相同的url，缓存直接使用副本响应访问请求，而不是向源服务器再次发送请求。</li> <li>缓存的优点
<ul><li>减少响应延迟</li> <li>减少网络带宽消耗</li></ul></li></ul> <h3 id="协商缓存—命中状态码是304"><a href="#协商缓存—命中状态码是304" class="header-anchor">#</a> 协商缓存—命中状态码是304</h3> <ul><li><p>Etag策略（优先）</p> <p>资源要有唯一标示，资源变了，Etag也变，如果有这个策略，请求时携带if-None-Match，和服务器的做对比，一样的话直接返回304，不一样重推200</p></li> <li><p>Last-Modified策略</p> <p>资源生成时间，原理同Etag。如果没有Etag策略，检查是否有Last-Modified策略，有的话向服务器请求，带if-Modified-Since，没有的话直接向web服务器请求。</p></li></ul> <p>缓存可以从内存读取，也可以从磁盘读取，从哪读取由浏览器决定，资源命中率，算法，决定存在哪里。</p> <h3 id="强制缓存—命中状态码是200"><a href="#强制缓存—命中状态码是200" class="header-anchor">#</a> 强制缓存—命中状态码是200</h3> <p>规则是服务器返回的。</p> <ul><li>Expires：thu，15Apr 2010 20:20:00 GMT，告诉浏览器的到期时间。HTTP1.0的东西，现在作用基本忽略。</li> <li>Cache-Control：max-age=324234243234，告诉浏览器文件缓存多久</li></ul> <h3 id="密码学入门"><a href="#密码学入门" class="header-anchor">#</a> 密码学入门</h3> <ul><li>密码学的处理对象是数字和字符串</li> <li>散列是一种数据，一旦转换为其他形式将永远无法恢复的加密数据</li> <li>加密
<ul><li>对称加密（AES、DES、3DES），加密和解密算法一样</li> <li>非对称加密（RSA），加密和解密算法不一样</li></ul></li> <li>密钥交换算法</li></ul> <h3 id="证书签发机构（ca）"><a href="#证书签发机构（ca）" class="header-anchor">#</a> 证书签发机构（CA）</h3> <p>公钥和公钥匙一起生成</p> <h3 id="ssl-tls协议"><a href="#ssl-tls协议" class="header-anchor">#</a> SSL/TLS协议</h3> <h4 id="tls握手"><a href="#tls握手" class="header-anchor">#</a> TLS握手</h4> <h3 id="http2协议分析"><a href="#http2协议分析" class="header-anchor">#</a> HTTP2协议分析</h3> <ul><li>HTTP2没有改动HTTP的应用于一。HTTP方法、状态代码、URI和标头字段等核心概念没变。</li> <li>HTTP2修改了数据格式化（分帧）以及在客户端与服务器间传输的方式。</li> <li>由于HTTP2引入了一个新的二进制分帧层，该层无法与之前的HTTP1.x服务器和客户端向后兼容，因此协议的主版本提升到HTTP2</li></ul> <h3 id="http2的特点"><a href="#http2的特点" class="header-anchor">#</a> HTTP2的特点</h3> <ul><li>使用二进制格式传输，更高效，更紧凑</li> <li>对报头压缩，降低开销</li> <li>多路复用，一个网络连接实现并行请求</li> <li>服务器主动对推送，减少请求的延迟</li> <li>默认使用加密</li></ul> <h3 id="http2-多路复用"><a href="#http2-多路复用" class="header-anchor">#</a> HTTP2:多路复用</h3> <ul><li>在HTTP1中，如果客户端想要发起多个并行请求以提升性能，则必须使用多个TCP连接。这种模型也会导致队首阻塞，从而造成底层TCP连接的效率低下。</li> <li>将HTTP消息分解为独立的帧，交错发送，然后在另一端重新组装时HTTP2最重要的一项增强。这个机制会在整个网络技术栈中引发一系列连锁反应，从而带来巨大的性能提升。
<ul><li>并行交错地发送多个请求，请求之间互不影响</li> <li>并行交错地发送多个响应，响应之间互不影响</li> <li>使用一个连接并行发送多个请求和响应</li> <li>不必再为绕过HTTP1限制而做很多工作</li> <li>清除不必要的延迟和提高现有网络容量的利用率，从而减少页面加载时间</li></ul></li></ul> <h3 id="http3"><a href="#http3" class="header-anchor">#</a> HTTP3</h3> <ul><li>运行在QUIC之上的HTTP协议被称为HTTP/3</li> <li>QUIC协议基于UDP，正是看中了UDP的速度与效率，同时也整合了TCP、TLS和HTTP2的优点，并加以优化</li> <li>特点
<ul><li>减少了握手的延迟</li> <li>多路复用，并且没有TCP的阻塞问题</li> <li>连接迁移，（主要是在客户端）当由wifi转移到4g时，连接不会被断开</li></ul></li> <li>HTTP3与HTTP1和HTTP2没有直接的关系，也不是HTTP2的扩展</li> <li>HTTP3将会是一个全新的web协议</li> <li>HTTP3目前处于制定和测试阶段</li></ul> <h3 id="http与反向代理"><a href="#http与反向代理" class="header-anchor">#</a> HTTP与反向代理</h3> <h4 id="正向代理和反向代理"><a href="#正向代理和反向代理" class="header-anchor">#</a> 正向代理和反向代理</h4> <h4 id="反向代理的用途"><a href="#反向代理的用途" class="header-anchor">#</a> 反向代理的用途</h4> <ul><li>加密和SSL加速</li> <li>负载均衡</li> <li>缓存静态内容</li> <li>压缩</li> <li>减速上传</li> <li>安全</li> <li>外网发布</li></ul> <h3 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h3> <p>Systemctl start | stop | restart | reload</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/node.html" class="prev">什么是Node.js</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4a456fe1.js" defer></script><script src="/assets/js/2.e34d794f.js" defer></script><script src="/assets/js/7.1b043b7d.js" defer></script>
  </body>
</html>
